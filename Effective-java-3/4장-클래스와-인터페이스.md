# 15. 클래스와 멤버의 접근 권한을 최소화 하라

- 잘 설계된 컴포넌트의 특징은, 클래스의 내부 데이터와 내부 구현 정보를 외부 컴포넌트로 부터 얼마나 잘 숨겼는가에 달려있음.
  - **정보 은닉, 캡슐화** 를 의미한다.
- 기본 원칙 : 모든 클래스와 멤버의 접근성을 가능한 좁혀야한다.
- `package-private` 으로 선언하면, 해당 패키지 안에서만 사용할 수 있음.



- 접근 수준

1. private : 멤버를 선언한 톱레벨 클래스에서만 접근할수 있음.
2. package-private : 멤버가 소속된 패키지의 안의 모든 클래스에서 접근할 수 있음.
   - 접근 제한자를  명시하지 않았을 때, 적용되는 기본적인 접근 수준
3. protected : 2번의 접근범위를 포함하고, 이 멤버를 선언한 클래스의 하위 클래스에서도 접근할 수 있음.
4. public : 모든 곳에서 접근할 수 있음.



- 테스트를 위한 변경
- 적당 수준까지는 괜찮음.
- 즉 public 클래스의 private 멤버를 package-private까지 풀어주는 것은 괜찮음.



- public class의 인스턴스 필드는 되도록 public 이 아니도록

- 왜?
  - public 가변 필드를 가지는 클래스는 일반적으로 스레드에 안전적이지 않기 때문
- 단 상수라면 public static final 필드로 공개해도 괜찮음.



### 정리

- 접근성은 가능한 최소한으로?
  - 왜 의도치 않은 버그를 막을 수 있고,
  - 디버깅시 용이하다
- public 클래스는 상수용 public static final 필드 외에, 어떠한 public 필드도 가져서는 안된다.



# 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라

- 패키지 바깥에서 접근할 수 있는 클래스는 접근자(getter...) 를 제공하여, 클래스 내부 표현 방식을 바꿀수 있는 유연성을 얻을 수 있음.
- 그렇지만 `package-private` 클래스 혹은 `private 중첩 클래스` 라면 데이터 필드를 노출한다 해도 하등 문제 없음.
- 왜?
  - 깔끔함.

### 정리

- public 클래스에서 가변 필드는 **절대** 노출해서는 안됨.
  - 외부의 요청에 따라 변화할 가능성이 있기 때문에. 
  - 즉 개발자가 의도치 않는 클래스 변화가 일어날 수 있음.
- 불변 필드라면 노출 해도 괜찮지만, 완전히 안심을 불가함.
  - 그렇지만 `package-private 클래스`거나, `private 중첩 클래스`에서는 불변필드를 노출해도 괜찮은 경우가 있음.

